
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://surf-visualization.github.io/paraview-course/exercise2/">
      
      
        <link rel="prev" href="../exercise1/">
      
      
        <link rel="next" href="../exercise3/">
      
      
      <link rel="icon" href="../images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Exercise 2 - A Tornado simulation - Introduction to Scientific Visualization with ParaView</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#exercise-2-a-tornado-simulation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Introduction to Scientific Visualization with ParaView" class="md-header__button md-logo" aria-label="Introduction to Scientific Visualization with ParaView" data-md-component="logo">
      
  <img src="../images/surf-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Introduction to Scientific Visualization with ParaView
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Exercise 2 - A Tornado simulation
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../preparation/" class="md-tabs__link">
        
  
  
    
  
  Preparation

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../exercise1/" class="md-tabs__link">
          
  
  
  Exercises

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../appearance/" class="md-tabs__link">
        
  
  
    
  
  Appearance

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../scripting/" class="md-tabs__link">
        
  
  
    
  
  Scripting

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../miscellaneous/" class="md-tabs__link">
        
  
  
    
  
  Miscellaneous

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Introduction to Scientific Visualization with ParaView" class="md-nav__button md-logo" aria-label="Introduction to Scientific Visualization with ParaView" data-md-component="logo">
      
  <img src="../images/surf-logo.svg" alt="logo">

    </a>
    Introduction to Scientific Visualization with ParaView
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../preparation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Preparation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Exercises
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Exercises
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exercise1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exercise 1 - CT scan of a boy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Exercise 2 - A Tornado simulation
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Exercise 2 - A Tornado simulation
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#importing-and-preparing-the-data" class="md-nav__link">
    <span class="md-ellipsis">
      Importing and preparing the data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-velocity-vectors" class="md-nav__link">
    <span class="md-ellipsis">
      Creating velocity vectors
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visualizing-the-flow-field" class="md-nav__link">
    <span class="md-ellipsis">
      Visualizing the flow field
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#glyphs" class="md-nav__link">
    <span class="md-ellipsis">
      Glyphs
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exercise3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exercise 3 - Time-dependent Visualization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bonus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bonus Exercise - A stationary fluid mixer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../appearance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Appearance
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../scripting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scripting
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../miscellaneous/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Miscellaneous
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#importing-and-preparing-the-data" class="md-nav__link">
    <span class="md-ellipsis">
      Importing and preparing the data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-velocity-vectors" class="md-nav__link">
    <span class="md-ellipsis">
      Creating velocity vectors
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visualizing-the-flow-field" class="md-nav__link">
    <span class="md-ellipsis">
      Visualizing the flow field
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#glyphs" class="md-nav__link">
    <span class="md-ellipsis">
      Glyphs
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="exercise-2-a-tornado-simulation">Exercise 2 - A Tornado simulation<a class="headerlink" href="#exercise-2-a-tornado-simulation" title="Permanent link">&para;</a></h1>
<h2 id="importing-and-preparing-the-data">Importing and preparing the data<a class="headerlink" href="#importing-and-preparing-the-data" title="Permanent link">&para;</a></h2>
<p>In this exercise we will take a look at the results of simulating the wind in a tornado. The relevant dataset contains velocity vectors on a regular 3D grid (a so-called flow field). The data is contained in a simple file format: the well-known comma separated values format (CSV). </p>
<p>The advantage of CSV is that it is a simple and human-readable format, and can be written and read by many applications. However, it is not always an efficient way of storing (large) datasets. </p>
<p>The data contained in the CSV file is not automatically identified and understood correctly by ParaView, it simply does not have enough information for that. Therefore when we open a CSV file, we first have to apply some filters to map the data to the correct data arrays that we can operate on. After this is done, we can use a stream-tracer filter on it to get a good impression of the wind flow in this simulation.</p>
<p>▶ The first thing to do is to create a new session, and start with a clean view. For this, use the disconnect button in the toolbar and pressing <strong>Yes</strong> (or the <strong>File → Disconnect</strong> menu option). This will completely clean your current pipeline, so you can start the next exercise:</p>
<p><img alt="" src="../images/disconnect.png" /></p>
<p>▶ Open the <strong>wervel.csv</strong> file and click <strong>Apply</strong>. ParaView will ask which reader to use, pick <strong>CSV Reader</strong> and click <strong>Ok</strong>. Next, use <strong>Apply</strong> to actually load the data. A new view pane with a table representation of the data will get added next to existing the 3D view. The table is similar to an Excel sheet:</p>
<p><img alt="" src="../images/tornado-spreadsheet-view.png" /></p>
<p>If you would open the CSV file in a text editor you would see the file contains 7 values per line, with each line representing one grid point. </p>
<p>These values are:</p>
<ul>
<li>A unique identifier per point, <strong>i</strong></li>
<li><strong>x</strong>, <strong>y</strong>, and <strong>z</strong> values defining a location on a 3D cartesian grid.</li>
<li><strong>vx</strong>, <strong>vy</strong> and <strong>vz</strong> values, representing a 3D velocity vector at the (x,y,z) location</li>
</ul>
<p>▶ Verify that the ParaView spreadsheet view indeed shows the same set of data.</p>
<p>ParaView does not know by itself how these individual variables relate to the points and cells in its data model, so we have to provide that mapping manually.</p>
<p>▶ The first step is to add a <strong>TableToPoints</strong> filter to our data source. This filter creates a 3D point for each row in the table, based on a set of table values you choose. You can find this filter under <strong>Filters → Alphabetical → TableToPoints</strong>. Set the <strong>X</strong>, <strong>Y</strong> and <strong>Z</strong> columns correctly to the table columns representation point position, check <strong>Keep All Data Arrays</strong> and hit <strong>Apply</strong>.</p>
<p><img alt="" src="../images/tabletopoints.png" /></p>
<p>▶ Compare the <strong>Information</strong> tabs of the <strong>wervel.csv</strong> source and the <strong>TableToPoints</strong> filter to see how the output data has changed (type, number of points/cells, etc), and verify that the data arrays produced by the TableToPoints filter match those of the wervel.csv source.</p>
<p>▶ If needed, enable visibility of the TableToPoints output by clicking the eye icon next to it in the pipeline browser. <strong>If you have both a RenderView (the 3D panel) and a Spreadsheet view then make sure you have the RenderView selected (by clicking in it) before enabling visibility of the TableToPoints output.</strong> You should now see a regular 3D grid of (white) points, indicating that the point position values from the CSV data have correctly been set based on the table input.</p>
<h2 id="creating-velocity-vectors">Creating velocity vectors<a class="headerlink" href="#creating-velocity-vectors" title="Permanent link">&para;</a></h2>
<p>Next, we need to combine the three separate scalar values <strong>vx</strong>, <strong>vy</strong> and <strong>vz</strong> into one 3D vector value. To do this, we use the <strong>Calculator</strong> filter that is built into ParaView. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is also a <strong>Python Calculator</strong> filter, which is more powerful, but we don't use it here as it is somewhat buggy for what we want to do here.</p>
</div>
<p>▶ With the <strong>TableToPoints</strong> filter selected add a <strong>Calculator</strong> filter (<strong>Filter → Common → Calculator</strong>). In the <strong>Result Array Name</strong> field enter "Velocity", in the text box below that enter the exact expression shown and hit <strong>Apply</strong>. This will create a <strong>Velocity</strong> data array that holds the vector value (vx,vy,vz) for each point. Again, check the filter output data on the Information tab to verify this.</p>
<p><img alt="" src="../images/calculator.png" /></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>A common mistake is to enter the expression in the Search box <strong>above</strong> the calculator properties:</p>
<p><img alt="" src="../images/incorrect-expression.png" /></p>
<p>This will cause properties to get filtered on the entered text (which there aren't), hiding them all.</p>
</div>
<p>You will probably have understood the name <strong>iHat</strong> to represent the vector <strong>î</strong>, i.e. (1, 0, 0). Using the Calculator filter fairly complex expressions can be used to augment existing datasets with new and useful values, both scalars and vectors.</p>
<p>▶ Select the Calculator filter in the pipeline and add <em>another</em> Calculator filter, for creating an array <strong>VelocityMag</strong> and expression <code>mag(Velocity)</code>.</p>
<p><img alt="" src="../images/2ndcalculator.png" /></p>
<p>▶ The pipeline we built up to this point, shown above, creates a Polygonal Mesh dataset which contains only points: the input point positions with their respective 3D velocity vectors. You can see this on the <strong>Information</strong> tab of the Calculator filter in the pipeline browser. Note that there's only 1 cell, and it contains all the 25,000 points. We also added two quantities derived from the input data, a velocity vector and its magnitude.</p>
<h2 id="visualizing-the-flow-field">Visualizing the flow field<a class="headerlink" href="#visualizing-the-flow-field" title="Permanent link">&para;</a></h2>
<p>Now that our data is converted from the CSV input to the ParaView data model we can start looking at our flow field. To do this, we want to use the <em>stream-tracer filter</em>. With this filter we simulate injecting particles in our flow field at specific locations. By letting these particles follow the flow, based on the velocity vectors in the grid, and tracing them over time we get an impression of the fluid flow through the model. </p>
<p>The stream-tracer filter is based on tracing a virtual particle through the <em>cells</em> of a dataset, i.e. regions of model space defined using 3D points. The flow direction within a cell, as indicated by the velocity vector value, is then integrated by the filter to determine a particle's position over time, thereby creating a trace of the particle through the dataset. </p>
<p>But as noted above, <em>there's currently only a single cell in our dataset holding all the points</em>, which provides no meaningful way to trace particles. So we need to divide up the dataset domain into small cells. Furthermore, the flow vector values are currently associated only with the <em>points</em> of the dataset, while we need those values for each <em>cell</em> for the stream-tracer to work.</p>
<p>We can fix these two issues by applying a 3D Delaunay triangulation. This creates cells from the dataset based on the existing points. The cells created are small and detailed enough so that our Stream Tracer filter can reasonably work. The filter also adds a new flow vector value for each created cell, based on interpolating the existing per-point values of its corners.</p>
<p>▶ Select the <strong>Calculator2</strong> filter and add a <strong>Delaunay 3D</strong> filter using <strong>Filters → Alphabetical → Delaunay3D</strong> and click <strong>Apply</strong>. It might take a few seconds to a minute for the computation to complete.</p>
<p>The representation of the data in the 3D view will now have changed to a block, instead of points, indicating that there are now cells which take up regions of 3D space.</p>
<p>▶ Check the <strong>Information</strong> tab for the <strong>Delaunay 3D</strong> filter and switch to <strong>Surface with Edges</strong> representation to see how the data has changed, in terms of type, cells and points. You could also clip away part of the dataset with the <strong>Clip</strong> filter to look at the cell structure inside of the dataset.</p>
<p>The pipeline we constructed so far should look like this:</p>
<p><img alt="" src="../images/delaunaypipeline.png" /></p>
<p>Now lets do some initial particle tracing through the flow field using the stream tracer filter.</p>
<p>▶ In the pipeline, select the <strong>Delaunay3D</strong> filter and add a <strong>Stream Tracer</strong> filter. You can find this under <strong>Filters → Common → Stream Tracer</strong>. <em>Do not press Apply just yet</em>.</p>
<p>▶ The Stream Tracer filter has quite a few <strong>parameters</strong>. Important ones are integration settings and the seed location for the particles to trace. Change them to, for example, the <strong>values below</strong> and click <strong>Apply</strong>:</p>
<p><img alt="" src="../images/streamtracerparams.png" /></p>
<p>This will give you a set of lines, each representing a trace of a particle as it follows the flow in the tornado. </p>
<p>▶ Note the small red 3D axis and large sphere at the bottom of the tornado: this is the seed center (12,12,0) and given radius around which the traced particles start. You could experiment with different locations of the seed point to see how this influences the streamlines.</p>
<div class="admonition hint">
<p class="admonition-title">Accidental sphere changes / Resetting a filter to last executed values</p>
<p>The sphere shown can actually be moved by dragging in the 3D view, which alters the corresponding values set for the Point Cloud Parameters. Sometimes, during 3D interaction with the view you might accidentally change a widget, such as the sphere here (there's more widgets, for example to set the location of a clip plane), which changes filter parameters. In case you did not want this to happen you can reset a filter back to the values it used since the last Apply by using the <strong>Reset</strong> button at the top of the Properties panel.</p>
<p>In most cases a widget can be hidden using a filter option, which prevents further interaction with it. Hiding the sphere here can be done by disabling the
<strong>Show Sphere</strong> option under Point Cloud Parameters.</p>
</div>
<p>▶ To make the streamlines more visually appealing, we add another filter on the output of the StreamTracer filter, namely a <strong>Tube</strong> filter (<strong>Filters → Alphabetical → Tube</strong>). In the Tube filter's <strong>Properties</strong> tab, set the radius of the tubes to 0.1 and click <strong>Apply</strong>. Notice how this changes the appearance
of the streamlines.</p>
<p>▶ At this point, we'd like to add the original data domain as an outline. For this, enable visibility of the <strong>TableToPoints</strong> filter and switch its representation to <strong>Outline</strong>.</p>
<p>▶ You can experiment with different colorings of the tubes, based on e.g. velocity, angular velocity or rotation. Use the coloring controls in the filters settings under <strong>Coloring</strong> for this.</p>
<h2 id="glyphs">Glyphs<a class="headerlink" href="#glyphs" title="Permanent link">&para;</a></h2>
<p>Finally, we'll add a different representation instead of the streamlines, called <em>glyphs</em>. Glyphs are simple and (usually) small 3D objects, like arrows or spheres. These glyphs get placed at each point position in a dataset to show a particular value. The glyphs are then colored, scaled and/or oriented based on scalar or vector values at the location. We'll use arrow glyphs to show the flow velocity magnitude and direction in the tornado.</p>
<p>▶ Hide all filter output, except the <strong>TableToPoints</strong> filter (the domain), by clicking the relevant eye icons. </p>
<p>▶ Select the <strong>Calculator2</strong> filter and add a <strong>Glyph</strong> filter (<strong>Filters → Common → Glyph</strong>). Set the <strong>Glyph Type</strong> to <strong>Arrow</strong>, set the <strong>Orientation Array</strong> to <strong>Velocity</strong> (i.e. our computed velocity vectors) and <strong>Scale Mode</strong> to <strong>No scale array</strong>. Click <strong>Apply</strong>. </p>
<p><img alt="" src="../images/glypsettings.png" /></p>
<div class="admonition info">
<p class="admonition-title">Point versus cell input</p>
<p>Note that there is no need to base the Glyph filter on the Delaunay 3D output, as the Glyph filter works on 3D <em>points</em>, as in the original data set. This is unlike the Streamtracer filter needing <em>cells</em>, which we added using the Delaunay 3D filter.</p>
<p>ParaView does provide generic <code>Point Data to Cell Data</code> and <code>Cell Data to Point Data</code> filters, to convert between the two using interpolation.</p>
</div>
<p>You should now see a large number of arrows nicely distributed over the tornado dataset, indicating the direction of wind flow. As we have set the Scale Mode to Off all arrows are the same size, obscuring the insides and giving less of a visual clue to wind speed.</p>
<p>Let's try to improve the overall visualization, to make it easier to interpret.</p>
<p>▶ Set the <strong>Scale Array</strong> to <strong>Velocity</strong> and the <strong>Scale Factor</strong> to <strong>0.2</strong> and press <strong>Apply</strong>. </p>
<p>▶ Make sure the coloring is set to <strong>VelocityMag</strong> and verify that the size and colors of a glyph arrow corresponds to its velocity value.</p>
<p>You might wonder about the the number of glyphs placed, compared to the 25,000 points in the dataset. There is currently quite a large number of glyphs, and perhaps still too many to be effective. This doesn't help in the overall visual interpretation of the data, but we do need to balance getting enough coverage of the full dataset.</p>
<p>▶ The filter settings under <strong>Masking</strong> provide different modes options for the number and distribution of the glyphs placed. For example, see what happens when using Glyph Mode <code>Every Nth point</code> when you show a glyph for every 10th or 11th point. Or use 500 glyphs uniformly distributed (and why that means you need choose these kinds of parameters with care).</p>
<p>▶ A useful variant is to apply glyphs <em>to the output of the Stream Trace filter</em> (by creating a second Glyph filter). This is possible because the generated streamlines are themselves polygonal data, where each streamline consists of a Poly-Line cell that uses a set of 3D points. As a Glyph filter uses point positions to place glyphs we can place them for each streamline. Experiment with this, using different types of glyphs, like Sphere and Arrow. Also try coloring by IntegrationTime to verify the direction in which the streamlines where "grown".</p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-custom" title="April 14, 2025 10:38:34">14 April 2025 10:38:34</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../exercise1/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Exercise 1 - CT scan of a boy" rel="prev">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Exercise 1 - CT scan of a boy
              </div>
            </div>
          </a>
        
        
          
          <a href="../exercise3/" class="md-footer__link md-footer__link--next" aria-label="Next: Exercise 3 - Time-dependent Visualization" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Exercise 3 - Time-dependent Visualization
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2018-2025 SURF &bullet; <a href=../privacy> Privacy Information</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      <a href="https://www.surf.nl/en/visualisation-more-insight-into-your-data"><img style="height:48px" src=../images/surf-logo.svg></a>
      <a href="http://visualisationlab.science.uva.nl/"><img style="height:48px" src=../images/uva-logo.png></a>          
      
        <div class="md-social">
  
    
    
      
    
    
    
      
      
    
    <a href="https://social.edu.nl/@SURF/" target="_blank" rel="noopener me" title="social.edu.nl" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.5 102.5 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5m-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>
    </a>
  
</div>
      
      <span style="; font-size:75%"><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="./images/cc-by-sa.png" width="100" /></a><br />This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International Public License.</a>.</span>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.instant", "navigation.top", "navigation.footer"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>